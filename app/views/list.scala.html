@(references:List[Reference], fieldTypes: List[FieldType])

@main {
    
    <header>
        <h1 id="homeTitle">References list</h1>
    </header>

    @if(flash.containsKey("success")) {
        <div class="alert-message warning">
            <strong>Done!</strong> @flash.get("success")
        </div>
    } 

    <div id="actions">        
        <a class="btn success" id="add" href="@routes.Application.choose()">Add a new reference</a>
        <a class="btn primary" id="download" href="@routes.Application.generateBib()">Download bibtex-file</a>
    </div>
    
    @if(references.size == 0) {
        
        <div class="well">
            <em>Nothing to display</em>
        </div>
        
    } else {
        
        <table class="zebra-striped">
            <thead>
            <tr>
            		<th>
					type 
					</th> 
            @for(fieldType <- fieldTypes) {
            		<th>
					@fieldType.fieldName 
					</th>       
            }
                </tr>
            </thead>
            <tbody>
            @for(reference <- references) {
            <tr>
            		<td>
            		@reference.referenceType.name
            		</td>
                @for(fieldType <- fieldTypes) {
            		<td>
					@{
						val fields : Map[String, String] = reference.getMap
						fields.get(fieldType.fieldName) 
					}
					</td>       
            	}
            }
            </tr>
            </tbody>
        </table>
    }
        
}

            